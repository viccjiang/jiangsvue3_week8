(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f86b"],{d9cc:function(t,c,e){"use strict";e.r(c);e("a4d3"),e("e01a");var i=e("7a23"),o={class:"container"},r={"aria-label":"breadcrumb"},a={class:"breadcrumb"},s={class:"breadcrumb-item "},n=Object(i["h"])("產品列表"),d={class:"breadcrumb-item active","aria-current":"page"},u=Object(i["i"])("li",{class:"breadcrumb-item active","aria-current":"page"},"產品細節",-1),l={class:"row align-items-center"},b={class:"col-md-7"},p={id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel"},j={class:"carousel-inner"},O={class:"carousel-item active"},h={class:"col-md-5"},g={class:"col mb-5"},v={key:0,class:"h5 "},f={key:1,class:"h6 "},m={key:2,class:"h5 text-danger mb-5"},k={class:"row align-items-center"},y={class:"col-6"},w=Object(i["i"])("h2",{class:"mt-4"},"你可能也喜歡",-1),L={class:"row row-cols-1 row-cols-md-3 g-4 mb-4"},P={class:"card h-100 "},G={class:"card-body"},x={class:"card-title"},C={class:"card-footer"};function $(t,c,e,$,_,z){var M=Object(i["D"])("Loading"),T=Object(i["D"])("router-link");return Object(i["u"])(),Object(i["e"])(i["a"],null,[Object(i["i"])(M,{active:_.isLoading},null,8,["active"]),Object(i["i"])("div",o,[Object(i["i"])("nav",r,[Object(i["i"])("ol",a,[Object(i["i"])("li",s,[Object(i["i"])(T,{to:"/products"},{default:Object(i["O"])((function(){return[n]})),_:1})]),Object(i["i"])("li",d,Object(i["G"])(_.product.title),1),u])]),Object(i["i"])("div",l,[Object(i["i"])("div",b,[Object(i["i"])("div",p,[Object(i["i"])("div",j,[Object(i["i"])("div",O,[Object(i["i"])("img",{src:_.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,["src"])])])])]),Object(i["i"])("div",h,[Object(i["i"])("article",g,[Object(i["i"])("h2",null,Object(i["G"])(_.product.title),1),Object(i["i"])("div",null,Object(i["G"])(_.product.content),1),Object(i["i"])("div",null,Object(i["G"])(_.product.description),1)]),_.product.price?Object(i["f"])("",!0):(Object(i["u"])(),Object(i["e"])("div",v,Object(i["G"])(_.product.origin_price)+" 元",1)),_.product.price?(Object(i["u"])(),Object(i["e"])("del",f,"原價 "+Object(i["G"])(t.$filters.currency(_.product.origin_price))+" 元",1)):Object(i["f"])("",!0),_.product.price?(Object(i["u"])(),Object(i["e"])("div",m," 現在只要 "+Object(i["G"])(t.$filters.currency(_.product.price))+" 元 ",1)):Object(i["f"])("",!0),Object(i["i"])("div",k,[Object(i["i"])("div",y,[Object(i["i"])("button",{type:"button",class:"text-nowrap btn btn-secondary border rounded-0 w-100 py-2",onClick:c[1]||(c[1]=Object(i["Q"])((function(t){return z.addToCart(_.product.id)}),["prevent"]))}," 加到購物車 ")])])]),w,Object(i["i"])("div",L,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(_.randomProducts,(function(t){return Object(i["u"])(),Object(i["e"])("div",{class:"col",key:t},[Object(i["i"])("div",P,[Object(i["i"])("img",{src:t.imageUrl,style:{"background-size":"cover","background-position":"center center"},class:"card-img-top",alt:"..."},null,8,["src"]),Object(i["i"])("div",G,[Object(i["i"])("h5",x,Object(i["G"])(t.title),1)]),Object(i["i"])("div",C,[Object(i["i"])("button",{type:"button",class:"text-nowrap btn btn-secondary border-0 rounded-0 w-100 py-2",onClick:Object(i["Q"])((function(c){return z.addToCart(t.id)}),["prevent"])}," 加到購物車 ",8,["onClick"])])])])})),128))])])])],64)}e("99af"),e("4de4"),e("d3b7"),e("6062"),e("3ca3"),e("ddb0"),e("159b");var _=e("cfb9");function z(t){return Math.floor(Math.random()*t)}var M={data:function(){return{isLoading:!1,product:{},products:[],randomProducts:[],id:""}},methods:{getProduct:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jiangsvue3","/product/").concat(this.id);this.isLoading=!0,this.$http.get(c).then((function(c){c.data.success&&(t.product=c.data.product),t.isLoading=!1,t.getProducts()}))},getProducts:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jiangsvue3","/products/all");this.$http.get(c).then((function(c){console.log(c),t.products=c.data.products,t.getLookAlike()}))},getLookAlike:function(){var t=this,c=this.product.category,e=this.products.filter((function(t){return t.category===c}));console.log("filterProducts:",e);var i=e.length<4?e.length:4,o=new Set([]);console.log(o.size),z();for(var r=0;o.size<i;r+1){var a=z(e.length);o.add(a),console.log(o,a)}o.forEach((function(c){t.randomProducts.push(e[c])})),console.log(this.randomProducts)},addToCart:function(t){var c=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jiangsvue3","/cart"),o={product_id:t,qty:e};this.isLoading=!0,this.$http.post(i,{data:o}).then((function(t){c.isLoading=!1,c.$httpMessageState(t,"加入購物車"),console.log(t.data),_["a"].emit("update-cart")}))}},created:function(){this.id=this.$route.params.id,this.getProduct()}};M.render=$;c["default"]=M}}]);
//# sourceMappingURL=chunk-2d21f86b.4902b319.js.map