{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/front/UserCheckout.vue","webpack:///./src/views/front/UserCheckout.vue?9100"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","colspan","width","active","isLoading","payOrder","order","products","item","key","id","product","title","qty","unit","final_total","total","user","email","name","tel","address","is_paid","to","data","orderId","methods","getOrder","url","$http","then","res","success","console","log","post","created","$route","params","render"],"mappings":"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","file":"js/chunk-2ded9b12.390b2e75.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container\">\n    <div class=\"mb-5 row justify-content-center\">\n      <h3 class=\"bg-secondary text-light my-5 border p-3 \">Step3.確認付款</h3>\n      <form class=\"col\" @submit.prevent=\"payOrder\">\n        <table class=\"table align-middle col-md-6\">\n          <thead>\n            <th>品名</th>\n            <th>數量</th>\n            <th>單價</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\n              <td>{{ item.product.title }}</td>\n              <td>{{ item.qty }}/{{ item.product.unit }}</td>\n              <td class=\"text-end\">{{ item.final_total }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"2\" class=\"text-end\">總計</td>\n              <td class=\"text-end\">{{ order.total }}</td>\n            </tr>\n          </tfoot>\n        </table>\n\n        <table class=\"table col-md-6\">\n          <tbody>\n            <tr>\n              <th width=\"100\">Email</th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr>\n              <th>姓名</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr>\n              <th>收件人電話</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr>\n              <th>收件人地址</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr>\n              <th>付款狀態</th>\n              <td>\n                <span v-if=\"!order.is_paid\">尚未付款</span>\n                <span v-else class=\"text-success\">付款完成</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div class=\"checkBtn d-flex justify-content-between\">\n          <router-link class=\"btn btn-outline-secondary\" to=\"/products\">繼續購物</router-link>\n          <div v-if=\"order.is_paid === false\">\n            <button class=\"btn btn-danger\">確認付款去</button>\n            <!-- 再做一個完成訂購頁面 -->\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.order = res.data.order;\n          console.log(this.order);\n        }\n      });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n\n      this.$http.post(url).then((res) => {\n        console.log(res);\n        if (res.data.success) {\n          this.getOrder();\n        }\n      });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=eba1e9bc\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}