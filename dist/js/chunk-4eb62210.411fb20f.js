(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eb62210"],{"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var i=n("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(t,e):void 0}}},"09dc":function(t,e,n){"use strict";n.r(e);n("a4d3"),n("e01a"),n("caad"),n("2532");var i=n("7a23"),r={class:"container "},c={class:"row"},a={class:"col-3 mt-4"},o={class:"list-group rounded-0"},s={class:"col-9"},u={class:"row mt-4"},l={class:"col mb-4"},d={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 "},b={class:"card h-100 rounded-0 "},f={class:"card-body"},g={class:"badge bg-secondary text-light mb-2"},p={class:"card-title"},v={class:"h6 text-secondary"},h={key:0,class:"h5 list-inline-item "},j={key:1,class:"h6 list-inline-item text-secondary"},O={key:2,class:"h5 text-danger"},m={class:"d-grid gap-2 col-12 mx-auto"},y={key:0,class:"spinner-border text-danger spinner-border-sm",role:"status"},x=Object(i["i"])("span",{class:"visually-hidden"},"Loading...",-1),k=Object(i["h"])(" 加到購物車 ");function w(t,e,n,w,C,A){var S=this,F=Object(i["D"])("Loading"),I=Object(i["D"])("Pagination");return Object(i["u"])(),Object(i["e"])(i["a"],null,[Object(i["i"])(F,{active:t.isLoading},null,8,["active"]),Object(i["i"])("div",r,[Object(i["i"])("div",c,[Object(i["i"])("div",a,[Object(i["i"])("div",o,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(C.categories,(function(t){return Object(i["u"])(),Object(i["e"])("a",{href:"#",key:t,class:"list-group-item list-group-item-action ",onClick:Object(i["Q"])((function(e){return C.selectCategory=t}),["prevent"])},Object(i["G"])(t),9,["onClick"])})),128))])]),Object(i["i"])("div",s,[Object(i["i"])("div",u,[Object(i["i"])("div",l,[Object(i["i"])("div",d,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(A.filterProducts,(function(e){return Object(i["u"])(),Object(i["e"])("div",{class:"col ",key:e.id},[Object(i["i"])("div",b,[Object(i["i"])("div",{style:[{height:"300px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.imageUrl,")")}]},null,4),Object(i["i"])("div",f,[Object(i["i"])("span",g,Object(i["G"])(e.category),1),Object(i["i"])("h5",p,Object(i["G"])(e.title),1),Object(i["i"])("h6",v,Object(i["G"])(e.description),1),e.price?Object(i["f"])("",!0):(Object(i["u"])(),Object(i["e"])("div",h,Object(i["G"])(e.origin_price)+" 元 ",1)),e.price?(Object(i["u"])(),Object(i["e"])("del",j,"原價 NT$ "+Object(i["G"])(t.$filters.currency(e.origin_price))+" 元",1)):Object(i["f"])("",!0),e.price?(Object(i["u"])(),Object(i["e"])("div",O," NT$ "+Object(i["G"])(t.$filters.currency(e.price))+" 元 ",1)):Object(i["f"])("",!0),Object(i["i"])("div",m,[Object(i["i"])("button",{type:"button",onClick:function(t){return A.addMyFavorite(e)},class:[{active:C.myFavorite.includes(e.id)},"btn d-block btn-outline-success"]}," 加到我的最愛 ",10,["onClick"]),Object(i["i"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(t){return A.getProduct(e.id)}}," 查看更多 ",8,["onClick"]),Object(i["i"])("button",{type:"button",class:"btn btn-outline-danger",disabled:S.status.loadingItem===e.id,onClick:function(t){return A.addCart(e.id)}},[S.status.loadingItem===e.id?(Object(i["u"])(),Object(i["e"])("div",y,[x])):Object(i["f"])("",!0),k],8,["disabled","onClick"])])])])])})),128))])]),Object(i["i"])(I,{pages:C.pagination,onEmitPages:A.getProducts},null,8,["pages","onEmitPages"])])])])])],64)}var C=n("6b75");function A(t){if(Array.isArray(t))return Object(C["a"])(t)}n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function S(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var F=n("06c5");function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(t){return A(t)||S(t)||Object(F["a"])(t)||I()}n("a434"),n("99af"),n("6062"),n("159b"),n("4de4"),n("ac1f"),n("466d");var $=n("cfb9"),_=n("1799"),E={save:function(t){var e=JSON.stringify(t);localStorage.setItem("hexFavorite",e)},get:function(){return JSON.parse(localStorage.getItem("hexFavorite"))}},G={data:function(){return{products:[],product:{},pagination:{},status:{loadingItem:""},categories:[],selectCategory:"",myFavorite:E.get()||[]}},components:{Pagination:_["a"]},provide:function(){return{emitter:$["a"]}},methods:{addMyFavorite:function(t){console.log("addMyFavorite"),this.myFavorite.includes(t.id)?this.myFavorite.splice(this.myFavorite.indexOf(t.id),1):this.myFavorite.push(t.id),console.log(this.myFavorite)},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jiangsvue3","/products/?page=").concat(e);this.isLoading=!0,this.$http.get(n).then((function(e){t.products=e.data.products,console.log("products:",e),t.isLoading=!1,e.data.success&&(console.log(e.data),t.products=e.data.products,t.pagination=e.data.pagination,t.getCategories())}))},getCategories:function(){var t=new Set;this.products.forEach((function(e){t.add(e.category)})),this.categories=P(t)},getProduct:function(t){this.$router.push("/product/".concat(t))},addCart:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jiangsvue3","/cart");this.status.loadingItem=t;var i={product_id:t,qty:1};this.$http.post(n,{data:i}).then((function(t){e.status.loadingItem="",console.log(t),$["a"].emit("update-cart")}))}},watch:{myFavorite:{handler:function(){E.save(this.myFavorite)},deep:!0}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.selectCategory)}))}},created:function(){this.getProducts()}};G.render=w;e["default"]=G},1799:function(t,e,n){"use strict";var i=n("7a23"),r={"aria-label":"Page navigation example "},c={class:"pagination justify-content-center"},a=Object(i["i"])("span",null,"«",-1),o=Object(i["i"])("span",null,"»",-1);function s(t,e,n,s,u,l){return Object(i["u"])(),Object(i["e"])("nav",r,[Object(i["i"])("ul",c,[Object(i["i"])("li",{class:["page-item",n.pages.has_pre?"":"disabled"]},[Object(i["i"])("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=Object(i["Q"])((function(e){return t.$emit("emit-pages",n.pages.current_page-1)}),["prevent"]))},[a])],2),(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(n.pages.total_pages,(function(e,r){return Object(i["u"])(),Object(i["e"])("li",{class:["page-item",e===n.pages.current_page?"active":""],key:r},[Object(i["i"])("a",{class:"page-link",href:"#",onClick:Object(i["Q"])((function(n){return t.$emit("emit-pages",e)}),["prevent"])},Object(i["G"])(e),9,["onClick"])],2)})),128)),Object(i["i"])("li",{class:["page-item",n.pages.has_next?"":"disabled"]},[Object(i["i"])("a",{class:"page-link",href:"#",onClick:e[2]||(e[2]=Object(i["Q"])((function(e){return t.$emit("emit-pages",n.pages.current_page+1)}),["prevent"]))},[o])],2)])])}var u={props:["pages"],methods:{updatePage:function(t){this.$emit("emit-pages",t)}}};u.render=s;e["a"]=u},2532:function(t,e,n){"use strict";var i=n("23e7"),r=n("5a34"),c=n("1d80"),a=n("ab13");i({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(c(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),c=n("b622"),a=c("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},"466d":function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),c=n("50c4"),a=n("1d80"),o=n("8aa5"),s=n("14c3");i("match",(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,this,t);if(i.done)return i.value;var a=r(this),u=String(t);if(!a.global)return s(a,u);var l=a.unicode;a.lastIndex=0;var d,b=[],f=0;while(null!==(d=s(a,u))){var g=String(d[0]);b[f]=g,""===g&&(a.lastIndex=o(u,c(a.lastIndex),l)),f++}return 0===f?null:b}]}))},"4df4":function(t,e,n){"use strict";var i=n("0366"),r=n("7b0b"),c=n("9bdd"),a=n("e95a"),o=n("50c4"),s=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,b,f,g=r(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,j=void 0!==h,O=u(g),m=0;if(j&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==O||p==Array&&a(O))for(e=o(g.length),n=new p(e);e>m;m++)f=j?h(g[m],m):g[m],s(n,m,f);else for(d=O.call(g),b=d.next,n=new p;!(l=b.call(d)).done;m++)f=j?c(d,h,[l.value,m],!0):l.value,s(n,m,f);return n.length=m,n}},"5a34":function(t,e,n){var i=n("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},"9bdd":function(t,e,n){var i=n("825a"),r=n("2a62");t.exports=function(t,e,n,c){try{return c?e(i(n)[0],n[1]):e(n)}catch(a){throw r(t),a}}},a434:function(t,e,n){"use strict";var i=n("23e7"),r=n("23cb"),c=n("a691"),a=n("50c4"),o=n("7b0b"),s=n("65f0"),u=n("8418"),l=n("1dde"),d=l("splice"),b=Math.max,f=Math.min,g=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,i,l,d,v,h,j=o(this),O=a(j.length),m=r(t,O),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=O-m):(n=y-2,i=f(b(c(e),0),O-m)),O+n-i>g)throw TypeError(p);for(l=s(j,i),d=0;d<i;d++)v=m+d,v in j&&u(l,d,j[v]);if(l.length=i,n<i){for(d=m;d<O-i;d++)v=d+i,h=d+n,v in j?j[h]=j[v]:delete j[h];for(d=O;d>O-i+n;d--)delete j[d-1]}else if(n>i)for(d=O-i;d>m;d--)v=d+i-1,h=d+n-1,v in j?j[h]=j[v]:delete j[h];for(d=0;d<n;d++)j[d+m]=arguments[d+2];return j.length=O-i+n,l}})},a630:function(t,e,n){var i=n("23e7"),r=n("4df4"),c=n("1c7e"),a=!c((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:a},{from:r})},ab13:function(t,e,n){var i=n("b622"),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},b0c0:function(t,e,n){var i=n("83ab"),r=n("9bf2").f,c=Function.prototype,a=c.toString,o=/^\s*function ([^ (]*)/,s="name";i&&!(s in c)&&r(c,s,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},caad:function(t,e,n){"use strict";var i=n("23e7"),r=n("4d64").includes,c=n("44d2");i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},d28b:function(t,e,n){var i=n("746f");i("iterator")},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),c=n("e8b5"),a=n("23cb"),o=n("50c4"),s=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),b=d("slice"),f=l("species"),g=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var n,i,l,d=s(this),b=o(d.length),v=a(t,b),h=a(void 0===e?b:e,b);if(c(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!c(n.prototype)?r(n)&&(n=n[f],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(d,v,h);for(i=new(void 0===n?Array:n)(p(h-v,0)),l=0;v<h;v++,l++)v in d&&u(i,l,d[v]);return i.length=l,i}})}}]);
//# sourceMappingURL=chunk-4eb62210.411fb20f.js.map